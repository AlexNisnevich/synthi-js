<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Synth UGen Benchmarks (Flocking)</title>

        <link rel="stylesheet" type="text/css" href="../../third-party/sheep/css/sheep.css" />

        <script src="../../../third-party/jquery/js/jquery.js"></script>
        <script src="../../../third-party/infusion/js/Fluid.js"></script>
        <script src="../../../third-party/infusion/js/FluidIoC.js"></script>
        <script src="../../../third-party/infusion/js/DataBinding.js"></script>

        <script src="../../../third-party/dspapi/js/dspapi.js"></script>
        <script src="../../../flocking/flocking-core.js"></script>
        <script src="../../../flocking/flocking-scheduler.js"></script>
        <script src="../../../flocking/flocking-webaudio.js"></script>
        <script src="../../../flocking/flocking-ugens.js"></script>
        <script src="../../../flocking/flocking-envelopes.js"></script>
        <script src="../../../flocking/flocking-parser.js"></script>

        <script src="../../flocking/js/flocking-test-utils.js"></script>
        <script src="../../third-party/sheep/third-party/js/spin.min.js"></script>
        <script src="../../third-party/sheep/js/sheep.js"></script>
        <script src="../js/synth-benchmarks.js"></script>
    </head>

    <body id="body">

        <script type="text/javascript">
            var oneSecondBlocks = 690,
                audioAndControl = [
                    flock.rates.AUDIO,
                    flock.rates.CONTROL
                ];

            // flock.ugen.osc() modulating every input at audio rate.
            flock.test.timeSynthDefs("flock.ugen.osc() modulating every input at", {
                ugen: "flock.ugen.triOsc",
                id: "audio-only",
                freq: {
                    ugen: "flock.ugen.squareOsc",
                    freq: 110,
                    add: 440,
                    mul: 330
                },
                phase: {
                    ugen: "flock.ugen.sinOsc",
                    freq: 2,
                    add: 4,
                    mul: 2
                },
                mul: {
                    ugen: "flock.ugen.sawOsc",
                    freq: 44
                },
                add: {
                    ugen: "flock.ugen.lfNoise",
                    freq: 99,
                    mul: 0.1
                }
            }, audioAndControl, oneSecondBlocks);

            flock.test.timeSynthDefs("flock.ugen.change(), both inputs running at ", {
                ugen: "flock.ugen.change",
                initial: {
                    ugen: "flock.ugen.sinOsc",
                    freq: 440
                },
                target: {
                    ugen: "flock.ugen.sinOsc",
                    freq: 220
                },
                time: 10,
                crossfade: 2
            }, [flock.rates.AUDIO], oneSecondBlocks);

            flock.test.timeSynthDefs("Sine wave with flock.ugen.envGen() amplitude modulating gate input at ", {
                ugen: "flock.ugen.sinOsc",
                mul: {
                    ugen: "flock.ugen.envGen",
                    envelope: "flock.envelope.adsr",
                    gate: {
                        ugen: "flock.ugen.lfPulse",
                        width: 0.5,
                        freq: 1/10
                    },
                    timeScale: 1.0
                }
            }, audioAndControl, oneSecondBlocks);
        </script>
    </body>
</html>
